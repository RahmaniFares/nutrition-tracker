<div class="min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-green-50 to-white pt-28 pb-10 px-4">
  <div class="w-full max-w-lg bg-white rounded-3xl shadow-2xl p-12 border border-green-100">
    <div class="flex flex-col items-center mb-8">
      <div class="w-16 h-16 rounded-full bg-green-600 flex items-center justify-center mb-2 shadow">
        <svg class="w-9 h-9 text-white" fill="currentColor" viewBox="0 0 20 20">
          <path d="M10 2a8 8 0 100 16 8 8 0 000-16zm1 12.93V15a1 1 0 11-2 0v-.07A6.002 6.002 0 014 9a1 1 0 112 0 4 4 0 108 0 1 1 0 112 0 6.002 6.002 0 01-5 5.93z"/>
        </svg>
      </div>
      <h2 class="text-3xl font-extrabold text-green-700 tracking-tight">Calculateur Calorique</h2>
      <p class="text-gray-500 mt-1 text-sm text-center">Estimez vos besoins caloriques quotidiens selon votre profil</p>
    </div>
    <form class="space-y-6" (ngSubmit)="calculateCalories()">
      <!-- Genre -->
      <div>
        <label class="block text-gray-700 text-sm font-semibold mb-2">Genre</label>
        <div class="flex rounded-xl overflow-hidden border border-gray-200 bg-gray-50">
          <button type="button"
                  [ngClass]="{'bg-green-600 text-white shadow': gender === 'male', 'bg-white text-gray-700': gender !== 'male'}"
                  class="flex-1 py-2 px-4 text-sm font-semibold transition"
                  (click)="selectGender('male')">
            Homme
          </button>
          <button type="button"
                  [ngClass]="{'bg-green-600 text-white shadow': gender === 'female', 'bg-white text-gray-700': gender !== 'female'}"
                  class="flex-1 py-2 px-4 text-sm font-semibold transition"
                  (click)="selectGender('female')">
            Femme
          </button>
        </div>
      </div>
      <!-- Âge -->
      <div>
        <label for="age" class="block text-gray-700 text-sm font-semibold mb-2">Âge (années)</label>
        <input type="number" id="age" [(ngModel)]="age" name="age" min="15" max="100"
               class="w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-gray-50 outline-none transition"
               required>
      </div>
      <!-- Taille -->
      <div>
        <label for="height" class="block text-gray-700 text-sm font-semibold mb-2">Taille (cm)</label>
        <input type="number" id="height" [(ngModel)]="height" name="height" min="100" max="250"
               class="w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-gray-50 outline-none transition"
               required>
      </div>
      <!-- Poids -->
      <div>
        <label for="weight" class="block text-gray-700 text-sm font-semibold mb-2">Poids (kg)</label>
        <input type="number" id="weight" [(ngModel)]="weight" name="weight" min="30" max="200" step="0.1"
               class="w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-gray-50 outline-none transition"
               required>
      </div>
      <!-- Activité -->
      <div>
        <label for="activity" class="block text-gray-700 text-sm font-semibold mb-2">Niveau d'activité</label>
        <select id="activity" [(ngModel)]="activity" name="activity"
                class="w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-gray-50 outline-none transition"
                required>
          <option [value]="1.2">Sédentaire (peu ou pas d'exercice)</option>
          <option [value]="1.375">Légèrement actif (1-3 jours/semaine)</option>
          <option [value]="1.55">Modérément actif (3-5 jours/semaine)</option>
          <option [value]="1.725">Très actif (6-7 jours/semaine)</option>
          <option [value]="1.9">Extrêmement actif (sport intense + travail physique)</option>
        </select>
      </div>
      <!-- Calculer -->
      <button type="submit"
              class="w-full bg-gradient-to-r from-green-500 to-green-700 hover:from-green-600 hover:to-green-800 text-white font-bold py-3 px-4 rounded-xl shadow-lg transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50">
        Calculer
      </button>
    </form>
    <!-- Résultat -->
    <div *ngIf="showResult" class="result-box mt-8 p-6 bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-2xl shadow">
      <h3 class="text-xl font-bold text-green-800 mb-2 text-center">Vos besoins caloriques quotidiens</h3>
      <p class="text-gray-700 text-center">Pour maintenir votre poids actuel, vous avez besoin d'environ :</p>
      <p class="text-4xl font-extrabold text-green-600 mt-3 text-center tracking-wide">{{ calorieResult }} kcal</p>
      <p class="text-sm text-gray-500 mt-3 text-center">Estimation basée sur l'équation de Mifflin-St Jeor.</p>
      <!-- Ajout des apports en macronutriments -->
      <div class="mt-6 grid grid-cols-1 sm:grid-cols-3 gap-4 text-center">
        <div class="bg-white rounded-xl p-4 shadow border border-green-100">
          <div class="text-green-600 text-2xl mb-1"><i class="fas fa-drumstick-bite"></i></div>
          <div class="text-lg font-bold text-gray-800">{{ proteinResult }} g</div>
          <div class="text-gray-500 text-sm">Protéines</div>
        </div>
        <div class="bg-white rounded-xl p-4 shadow border border-green-100">
          <div class="text-green-600 text-2xl mb-1"><i class="fas fa-bread-slice"></i></div>
          <div class="text-lg font-bold text-gray-800">{{ carbResult }} g</div>
          <div class="text-gray-500 text-sm">Glucides</div>
        </div>
        <div class="bg-white rounded-xl p-4 shadow border border-green-100">
          <div class="text-green-600 text-2xl mb-1"><i class="fas fa-oil-can"></i></div>
          <div class="text-lg font-bold text-gray-800">{{ fatResult }} g</div>
          <div class="text-gray-500 text-sm">Lipides</div>
        </div>
      </div>
    </div>
    <!-- Carte repas journalière moderne -->
    <div *ngIf="showResult" class="flex justify-center mt-10">
      <div class="w-full max-w-3xl bg-white/90 rounded-2xl shadow-2xl border border-green-100 p-8">
        <h4 class="text-2xl font-bold text-green-700 mb-6 flex items-center gap-2">
          <i class="fas fa-utensils text-green-500"></i>
          Exemple de journée pour atteindre vos apports
        </h4>
        <ul class="divide-y divide-green-100">
          <li class="flex items-start gap-4 py-4">
            <span class="flex-shrink-0 w-12 h-12 rounded-full bg-green-50 flex items-center justify-center text-green-600 text-xl shadow">
              <i class="fas fa-mug-hot"></i>
            </span>
            <div>
              <div class="font-semibold text-green-700 mb-1">Petit-déjeuner</div>
              <ul class="list-disc list-inside text-gray-700 text-sm mb-1">
                <li>2 œufs durs</li>
                <li>2 tranches de pain complet</li>
                <li>1 orange</li>
                <li>1 yaourt nature</li>
              </ul>
              <div class="text-xs text-gray-500">≈ 400 kcal, 20g prot, 55g gluc, 12g lip</div>
            </div>
          </li>
          <li class="flex items-start gap-4 py-4">
            <span class="flex-shrink-0 w-12 h-12 rounded-full bg-green-50 flex items-center justify-center text-green-600 text-xl shadow">
              <i class="fas fa-drumstick-bite"></i>
            </span>
            <div>
              <div class="font-semibold text-green-700 mb-1">Déjeuner</div>
              <ul class="list-disc list-inside text-gray-700 text-sm mb-1">
                <li>Poulet grillé (120g)</li>
                <li>Riz basmati (100g cuit)</li>
                <li>Légumes sautés</li>
                <li>1 pomme</li>
              </ul>
              <div class="text-xs text-gray-500">≈ 600 kcal, 35g prot, 80g gluc, 15g lip</div>
            </div>
          </li>
          <li class="flex items-start gap-4 py-4">
            <span class="flex-shrink-0 w-12 h-12 rounded-full bg-green-50 flex items-center justify-center text-green-600 text-xl shadow">
              <i class="fas fa-egg"></i>
            </span>
            <div>
              <div class="font-semibold text-green-700 mb-1">Dîner</div>
              <ul class="list-disc list-inside text-gray-700 text-sm mb-1">
                <li>Omelette aux légumes</li>
                <li>Salade verte</li>
                <li>1 tranche de pain complet</li>
                <li>1 fruit de saison</li>
              </ul>
              <div class="text-xs text-gray-500">≈ 500 kcal, 22g prot, 60g gluc, 14g lip</div>
            </div>
          </li>
          <li class="flex items-start gap-4 py-4">
            <span class="flex-shrink-0 w-12 h-12 rounded-full bg-green-50 flex items-center justify-center text-green-600 text-xl shadow">
              <i class="fas fa-apple-alt"></i>
            </span>
            <div>
              <div class="font-semibold text-green-700 mb-1">Collation</div>
              <ul class="list-disc list-inside text-gray-700 text-sm mb-1">
                <li>Une poignée d’amandes (30g)</li>
                <li>1 banane</li>
              </ul>
              <div class="text-xs text-gray-500">≈ 250 kcal, 6g prot, 25g gluc, 13g lip</div>
            </div>
          </li>
        </ul>
        <div class="mt-6 text-gray-700 text-base text-center font-semibold">
          <span class="text-green-700">Total journalier :</span>
          ≈ 1750 kcal, 83g protéines, 220g glucides, 54g lipides
        </div>
      </div>
    </div>
  </div>
</div>
